<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POLYLINE - Constructora</title>
    <link rel="icon" href="/Resource/Logo/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/idiomas.css">
    <link rel="stylesheet" href="/css/information.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
</head>
<body>
    <header>
        <!-- Botón de menú móvil -->
        <button class="mobile-menu-button" aria-label="Menú">
            <div class="hamburger"></div>
        </button>
        <div id="loading-screen" class="loading-screen">
            <div class="logo-container">
                <img src="/Resource/Logo/logo.png" alt="Logo de POLYLINE" class="logo">
                <h1 class="company-name">POLYLINE</h1>
                <p class="slogan">CONSTRUCTORA</p>
            </div>
        </div>
        <div class="logo-container">
            <img src="/Resource/Logo/logo.png" alt="Logo de POLYLINE" class="logo">
            <h1 class="company-name">POLYLINE</h1>
            <p class="slogan"> CONSTRUCTORA</p>
        </div>
        <nav>
            <ul class="nav-menu">
                <li class="language-selector">
                    <button class="language-btn" onclick="toggleLanguageOptions()">
                        <img src="/Resource/flags/es.png" alt="Español" id="currentFlag">
                        <span id="currentLanguage">Español</span>
                    </button>
                    <div class="language-options" id="languageOptions">
                        <div class="language-option" onclick="changeLanguage('es')">
                            <img src="/Resource/flags/es.png" alt="Español">
                            <span>Español</span>
                        </div>
                        <div class="language-option" onclick="changeLanguage('en')">
                            <img src="/Resource/flags/en.png" alt="English">
                            <span>English</span>
                        </div>
                        <div class="language-option" onclick="changeLanguage('pt')">
                            <img src="/Resource/flags/pt.png" alt="Português">
                            <span>Português</span>
                        </div>
                        <div class="language-option" onclick="changeLanguage('zh')">
                            <img src="/Resource/flags/zh.png" alt="中文">
                            <span>中文</span>
                        </div>
                        <div class="language-option" onclick="changeLanguage('ja')">
                            <img src="/Resource/flags/ja.png" alt="日本語">
                            <span>日本語</span>
                        </div>
                        <div class="language-option" onclick="changeLanguage('it')">
                            <img src="/Resource/flags/it.png" alt="Italiano">
                            <span>Italiano</span>
                        </div>
                    </div>
                </li>
                <li><a href="index.html" class="active" data-translate="Inicio">Inicio</a></li>
                <li><a href="#para-ti" data-translate="Para Tí">Para Tí</a></li>
                <li class="dropdown">
                    <a href="/PROYECTOS/proyectos.html" id="proyectos-link" data-translate="Proyectos">Proyectos</a>
                    <ul class="dropdown-menu">
                        <li><a href="/PROYECTOS/proyectos.html" data-translate="Proyectos en Venta">Proyectos en Venta</a></li>
                        <li><a href="/PROYECTOS/PBEN1.html">Proyecto Benavides 1</a></li>
                        <li><a href="/PROYECTOS/PBEN2.html">Proyecto Benavides 2</a></li>
                        <li><a href="/PROYECTOS/PPL1.html">Proyecto Pueblo Libre 1</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="/Contact/Información.html" id="proyectos-link" data-translate="Contacto">Contacto</a>
                    <ul class="dropdown-menu">
                        <li><a href="/Contact/Información.html" data-translate="Información">Información</a></li>
                        <li><a href="/Contact/Agenda Una Reunión.html" data-translate="Agenda Una Reunión">Agenda una Reunión con Nosotros</a></li>
                    </ul>
                </li>
                <li><a href="/PROYECTOS/cotizar.html" data-translate="Cotizar Proyecto">Cotizar Proyecto</a></li>
                <li id="translateContainer" class="translate-container">
                    <div id="google_translate_element" title="Seleccionar idioma"></div>
                </li>
                <li id="loginContainer" class="mobile-login">
                    <a href="/pages/login.html" class="login-link" id="loginLink">
                        <i class="fas fa-sign-in-alt"></i> 
                        <span data-translate="Login">Login</span>
                    </a>
                    <div id="userProfile" style="display: none;">
                        <div class="profile-header">
                            <a href="/pages/perfil.html" style="text-decoration: none; color: inherit; ">
                                <span data-translate="Perfil">Perfil</span>
                            </a>
                        </div>
                    </div>
                </li>
            </ul>
        </nav>
    </header>

    <!-- Overlay para el menú móvil -->
    <div class="menu-overlay"></div>
    
    <section id="inicio" class="hero-section">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h2 class="hero-title">Información</h2>
            <p class="hero-subtitle">Conoce más sobre nosotros y nuestro trabajo</p>
        </div>
    </section>

    <section class="stats-container">
        <div class="stat-item">
            <div class="stat-number" data-target="20">0</div>
            <div class="stat-label">Años de Experiencia</div>
        </div>
        <div class="stat-item">
            <div class="stat-number" data-target="50">0</div>
            <div class="stat-label">Proyectos Completados</div>
        </div>
        <div class="stat-item">
            <div class="stat-number" data-target="100">0</div>
            <div class="stat-label">Clientes Satisfechos</div>
        </div>
        <div class="stat-item">
            <div class="stat-number" data-target="30">0</div>
            <div class="stat-label">Profesionales</div>
        </div>
    </section>

    <section class="info-card">
        <h2>Información de la Empresa</h2>
        <p>Polyline SAC es una empresa constructora con más de 20 años de experiencia, especializada en proyectos inmobiliarios de alta calidad. Iniciamos nuestras actividades en marzo de 2002 y desde entonces hemos entregado más de 50 proyectos, todos ellos enfocados en brindar soluciones innovadoras y sostenibles para nuestros clientes.</p>
    </section>

    <section class="info-card">
        <h2>MISIÓN</h2>
        <p>Asesoramiento integral, a personas y empresas, que permita solucionar todas sus necesidades relacionadas con el mercado inmobiliario.</p>
    </section>

    <section class="info-card">
        <h2>VISIÓN</h2>
        <p>Desarrollar proyectos de viviendas con calidad Arquitectónica: Muy buena iluminación, ventilación, buenos acabados, que haga de la vivienda, una experiencia para toda su vida.</p>
    </section>

    <section id="equipo">
        <h2 class="section-title">Nuestro Equipo</h2>
        <div class="team-section">
            <div class="team-member">
                <img src="/Resource/Equipo/carlos-valdivia.jpg" alt="Carlos Valdivia">
                <div class="member-info">
                    <h3>Carlos Valdivia</h3>
                    <p>Ing. Mecánico Electricista</p>
                </div>
            </div>

            <div class="team-member">
                <img src="/Resource/Equipo/luis-salas.jpg" alt="Luis Salas">
                <div class="member-info">
                    <h3>Luis Salas</h3>
                    <p>Arquitecto</p>
                </div>
            </div>

            <div class="team-member">
                <img src="/Resource/Equipo/juan-valenzuela.jpg" alt="Juan Valenzuela">
                <div class="member-info">
                    <h3>Juan Valenzuela</h3>
                    <p>Ingeniero</p>
                </div>
            </div>

            <div class="team-member">
                <img src="/Resource/Equipo/robert-rose.jpg" alt="Robert Rose">
                <div class="member-info">
                    <h3>Robert Rose</h3>
                    <p>Product Designer</p>
                </div>
            </div>

            <div class="team-member">
                <img src="/Resource/Equipo/JHOSTING.jpeg" alt="Jhosting">
                <div class="member-info">
                    <h3>Jhosting Rivas</h3>
                    <p>Desarrollador Web</p>
                    <p>ING. de Sistemas</p>
                </div>
            </div>
            
            <div class="team-member">
                <img src="/Resource/Equipo/" alt="Amir">
                <div class="member-info">
                    <h3>Amir Urbano</h3>
                    <p>Desarrollador de Software</p>
                    <p>ING. de Sistemas</p>
                </div>
            </div>

            
        </div>
    </section>

    <section class="location-section">
        <h2 class="section-title">Nuestra Ubicación</h2>
        <div class="map-container">
            <iframe src="https://www.google.com/maps/embed/v1/place?q=Av.%20%C3%93scar%20R.%20Benavides,%20Lima&key=AIzaSyC5GN_erCBHDs1cUtj2unzCuevpDtQHC04" width="100%" height="100%" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
        </div>
    </section>

    

    <script>
        // Animación del héroe
        window.addEventListener('load', () => {
            anime({
                targets: '.hero-title',
                opacity: [0, 1],
                translateY: [50, 0],
                duration: 1500,
                easing: 'easeOutExpo'
            });

            anime({
                targets: '.hero-subtitle',
                opacity: [0, 1],
                translateY: [30, 0],
                duration: 1500,
                delay: 500,
                easing: 'easeOutExpo'
            });

            // Animación de las tarjetas de información
            anime({
                targets: '.info-card',
                opacity: [0, 1],
                translateY: [50, 0],
                duration: 1000,
                delay: anime.stagger(200),
                easing: 'easeOutQuad'
            });

            // Animación de los miembros del equipo
            anime({
                targets: '.team-member',
                opacity: [0, 1],
                scale: [0.8, 1],
                duration: 1000,
                delay: anime.stagger(200),
                easing: 'easeOutElastic(1, .5)'
            });

            // Animación del contenedor del mapa
            anime({
                targets: '.map-container',
                opacity: [0, 1],
                translateY: [50, 0],
                duration: 1000,
                easing: 'easeOutQuad'
            });

            // Animación del contenedor de estadísticas
            anime({
                targets: '.stats-container',
                opacity: [0, 1],
                translateY: [30, 0],
                duration: 1000,
                easing: 'easeOutQuad'
            });
        });

        // Animación de los números de estadísticas
        const stats = document.querySelectorAll('.stat-number');
        stats.forEach(stat => {
            const target = parseInt(stat.getAttribute('data-target'));
            let current = 0;
            const increment = target / 50; // Velocidad de la animación
            const updateCount = () => {
                if(current < target) {
                    current += increment;
                    stat.textContent = Math.ceil(current);
                    requestAnimationFrame(updateCount);
                } else {
                    stat.textContent = target;
                }
            };
            
            // Iniciar la animación cuando el elemento sea visible
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if(entry.isIntersecting) {
                        updateCount();
                        observer.unobserve(entry.target);
                    }
                });
            });
            
            observer.observe(stat);
        });

        // Efecto parallax en el héroe
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const heroContent = document.querySelector('.hero-content');
            heroContent.style.transform = `translateY(${scrolled * 0.5}px)`;
        });
    </script>
</head>
<body>
    

<!-- Botón de modo oscuro -->
<button id="dark-mode-toggle" class="dark-mode-button" style="position: fixed; bottom: 20px; right: 30px;"></button>

</button>

<script src="/scripts.js"></script>


<script>
    window.addEventListener('load', function () {
        document.body.classList.add('loaded');
    });
</script>


<footer class="footer">
    <div class="footer-logo">
        <img src="/Resource/Logo/logo.png" alt="Logo de POLYLINE">
        <h3>POLYLINE <span class="highlight">CONSTRUCTORA</span></h3>
        <p>Construyendo sueños con pasión y calidad.</p>
    </div>

    <p>&copy; 2025 POLYLINE. Todos los derechos reservados.</p>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
const mobileMenuButton = document.querySelector('.mobile-menu-button');
const navMenu = document.querySelector('.nav-menu');
const menuOverlay = document.querySelector('.menu-overlay');
const dropdowns = document.querySelectorAll('.dropdown');

// Toggle menú móvil
mobileMenuButton.addEventListener('click', function() {
    this.classList.toggle('active');
    navMenu.classList.toggle('active');
    menuOverlay.classList.toggle('active');
    document.body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : '';
});

// Cerrar menú al hacer click en el overlay
menuOverlay.addEventListener('click', function() {
    mobileMenuButton.classList.remove('active');
    navMenu.classList.remove('active');
    menuOverlay.classList.remove('active');
    document.body.style.overflow = '';
});

// Manejar dropdowns en móvil
dropdowns.forEach(dropdown => {
    const link = dropdown.querySelector('a');
    link.addEventListener('click', function(e) {
        if (window.innerWidth <= 768) {
            e.preventDefault();
            dropdown.classList.toggle('active');
        }
    });
});

// Cerrar menú al cambiar el tamaño de la ventana
window.addEventListener('resize', function() {
    if (window.innerWidth > 768) {
        mobileMenuButton.classList.remove('active');
        navMenu.classList.remove('active');
        menuOverlay.classList.remove('active');
        document.body.style.overflow = '';
    }
});

// Agregar después de la inicialización de Firebase
document.getElementById('logoutButton').addEventListener('click', async (e) => {
    e.preventDefault();
    try {
        await signOut(auth);
        console.log('Usuario cerró sesión');
        window.location.href = '/index.html';
    } catch (error) {
        console.error('Error al cerrar sesión:', error);
    }
});

// Toggle del menú desplegable
document.getElementById('userProfile').addEventListener('click', function(e) {
    const dropdown = this.querySelector('.user-dropdown');
    dropdown.classList.toggle('show');
    e.stopPropagation();
});

// Cerrar el menú al hacer clic fuera
document.addEventListener('click', function() {
    const dropdowns = document.getElementsByClassName('user-dropdown');
    for (const dropdown of dropdowns) {
        if (dropdown.classList.contains('show')) {
            dropdown.classList.remove('show');
        }
    }
});
});
</script>

<script type="module">
import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

// Función para manejar el cierre de sesión
document.getElementById('logoutButton').addEventListener('click', async (e) => {
    e.preventDefault();
    const auth = getAuth();
    try {
        await signOut(auth);
        console.log('Sesión cerrada exitosamente');
        window.location.href = '/index.html'; // Redirige al inicio después de cerrar sesión
    } catch (error) {
        console.error('Error al cerrar sesión:', error);
    }
});
</script>
<script type="module" src="js/nav.js"></script>
</body>
</html>
<script>
    // Funciones para el selector de idiomas
    function toggleLanguageOptions() {
        const selector = document.querySelector('.language-selector');
        const options = document.getElementById('languageOptions');
        selector.classList.toggle('active');
        options.classList.toggle('show');
    }

    function changeLanguage(lang) {
        const currentFlag = document.getElementById('currentFlag');
        const currentLanguage = document.getElementById('currentLanguage');
        const options = document.getElementById('languageOptions');
        
        // Actualizar el botón con el idioma seleccionado
        currentFlag.src = `/Resource/flags/${lang}.png`;
        currentLanguage.textContent = {
            'es': 'Español',
            'en': 'English',
            'pt': 'Português',
            'zh': '中文',
            'ja': '日本語',
            'it': 'Italiano'
        }[lang];
        
        // Ocultar las opciones
        options.classList.remove('show');
        
        // Traducir el contenido
        translatePage(lang);
    }

    // Objeto con las traducciones
    const translations = {
        'en': {
            'Inicio': 'Home',
            'Para Tí': 'For You',
            'Proyectos': 'Projects',
            'Proyectos en Venta': 'Projects for Sale',
            'Contacto': 'Contact',
            'Información': 'Information',
            'Agenda Una Reunión': 'Schedule a Meeting',
            'Cotizar Proyecto': 'Quote Project',
            'BIENVENIDO A POLYLINE': 'WELCOME TO POLYLINE',
            'Proyectos inmobiliarios creados para ti.': 'Real estate projects created for you.',
            'Login': 'Login',
            'Perfil': 'Profile',
            'Cerrar Sesión': 'Logout',
            'Servicios Personalizados para Ti': 'Personalized Services',
            'En POLYLINE transformamos tus sueños en realidad.': 'At POLYLINE, we transform your dreams into reality',
            'Remodelación Completa': 'Complete Remodeling',
            'Rediseña completamente tus espacios para ajustarlos a tus necesidades y estilo de vida.': 'Completely redesign your spaces to fit your needs and lifestyle',
            'Remodelación de Cocinas': 'Kitchen Remodeling',
            'Transforma tu cocina en un espacio moderno y funcional.': 'Transform your kitchen into a modern and functional space',
            'Remodelación de Baños': 'Bathroom Remodeling',
            'Crea un ambiente relajante y elegante con nuestros diseños personalizados.': 'Create a relaxing and elegant environment with our custom designs',
            'Diseño de Interiores': 'Interior Design',
            'Optimiza tus espacios con soluciones creativas y modernas.': 'Optimize your spaces with creative and modern solutions',
            'Pisos': 'Floors',
            'Elige entre una amplia gama de materiales de alta calidad.': 'Choose from a wide range of high-quality materials',
            'Nosotros': 'About Us',
            'descripcion-empresa': 'Polyline SAC is a construction company that started its activities in March 2002. With 21 years of experience, it has developed projects and constructions such as:',
            'Habilitaciones Urbanas': 'Urban Developments',
            'Demolición': 'Demolition of buildings up to 3,500m²',
            'Edificaciones': 'Single-family and multi-family buildings'
        },
        'pt': {
            'Inicio': 'Início',
            'Para Tí': 'Para Você',
            'Proyectos': 'Projetos',
            'Proyectos en Venta': 'Projetos à Venda',
            'Contacto': 'Contato',
            'Información': 'Informações',
            'Agenda Una Reunión': 'Agendar uma Reunião',
            'Cotizar Proyecto': 'Orçar Projeto',
            'BIENVENIDO A POLYLINE': 'BEM-VINDO À POLYLINE',
            'Proyectos inmobiliarios creados para ti.': 'Projetos imobiliários criados para você.',
            'Login': 'Entrar',
            'Perfil': 'Perfil',
            'Cerrar Sesión': 'Sair',
            'Servicios Personalizados para Ti': 'Serviços Personalizados para Você',
            'En POLYLINE transformamos tus sueños en realidad.': 'Na POLYLINE, transformamos seus sonhos em realidade',
            'Remodelación Completa': 'Reforma Completa',
            'Rediseña completamente tus espacios para ajustarlos a tus necesidades y estilo de vida.': 'Redesenhe completamente seus espaços para atender suas necessidades e estilo de vida',
            'Remodelación de Cocinas': 'Reforma de Cozinhas',
            'Transforma tu cocina en un espacio moderno y funcional.': 'Transforme sua cozinha em um espaço moderno e funcional',
            'Remodelación de Baños': 'Reforma de Banheiros',
            'Crea un ambiente relajante y elegante con nuestros diseños personalizados.': 'Crie um ambiente relaxante e elegante com nossos designs personalizados',
            'Diseño de Interiores': 'Design de Interiores',
            'Optimiza tus espacios con soluciones creativas y modernas.': 'Otimize seus espaços com soluções criativas e modernas',
            'Pisos': 'Pisos',
            'Elige entre una amplia gama de materiales de alta calidad.': 'Escolha entre uma ampla gama de materiais de alta qualidade',
            'Nosotros': 'Sobre Nós',
            'descripcion-empresa': 'A Polyline SAC é uma empresa construtora que iniciou suas atividades em março de 2002. Com 21 anos de experiência, desenvolveu projetos e construções como:',
            'Habilitaciones Urbanas': 'Desenvolvimentos Urbanos',
            'Demolición': 'Demolição de edifícios até 3.500m²',
            'Edificaciones': 'Edifícios residenciais unifamiliares e multifamiliares'
        },
        'zh': {
            'Inicio': '首页',
            'Para Tí': '为您服务',
            'Proyectos': '项目',
            'Proyectos en Venta': '在售项目', 
            'Contacto': '联系我们',
            'Información': '信息',
            'Agenda Una Reunión': '预约会议',
            'Cotizar Proyecto': '项目报价',
            'BIENVENIDO A POLYLINE': '欢迎来到POLYLINE',
            'Proyectos inmobiliarios creados para ti.': '为您定制的房地产项目',
            'Login': '登录',
            'Perfil': '个人中心',
            'Cerrar Sesión': '退出登录',
            'Servicios Personalizados para Ti': '个性化服务',
            'En POLYLINE transformamos tus sueños en realidad.': '在POLYLINE，我们将您的梦想变为现实',
            'Remodelación Completa': '全面装修',
            'Rediseña completamente tus espacios para ajustarlos a tus necesidades y estilo de vida.': '根据您的需求和生活方式全面重新设计您的空间',
            'Remodelación de Cocinas': '厨房改造',
            'Transforma tu cocina en un espacio moderno y funcional.': '将您的厨房改造成现代实用的空间',
            'Remodelación de Baños': '浴室装修',
            'Crea un ambiente relajante y elegante con nuestros diseños personalizados.': '通过我们的定制设计打造舒适优雅的环境',
            'Diseño de Interiores': '室内设计',
            'Optimiza tus espacios con soluciones creativas y modernas.': '用创新现代的解决方案优化您的空间',
            'Pisos': '地板',
            'Elige entre una amplia gama de materiales de alta calidad.': '从各种高品质材料中选择',
            'Nosotros': '关于我们',
            'descripcion-empresa': 'Polyline SAC是一家于2002年3月成立的建筑公司。在21年的经验中，我们完成了以下项目：',
            'Habilitaciones Urbanas': '城市开发',
            'Demolición': '建筑拆除（最大3,500平方米）',
            'Edificaciones': '独栋及多户型住宅'
        },
        'ja': {
            'Inicio': 'ホーム',
            'Para Tí': 'あなたのために', 
            'Proyectos': 'プロジェクト',
            'Proyectos en Venta': '販売中のプロジェクト',
            'Contacto': 'お問い合わせ',
            'Información': '情報',
            'Agenda Una Reunión': '面談予約',
            'Cotizar Proyecto': '見積もり依頼',
            'BIENVENIDO A POLYLINE': 'POLYLINEへようこそ',
            'Proyectos inmobiliarios creados para ti.': 'お客様のための不動産プロジェクト',
            'Login': 'ログイン',
            'Perfil': 'プロフィール',
            'Cerrar Sesión': 'ログアウト',
            'Servicios Personalizados para Ti': 'パーソナライズドサービス',
            'En POLYLINE transformamos tus sueños en realidad.': 'POLYLINEは、あなたの夢を実現します',
            'Remodelación Completa': '全面リフォーム',
            'Rediseña completamente tus espacios para ajustarlos a tus necesidades y estilo de vida.': 'あなたのニーズとライフスタイルに合わせた空間の完全リデザイン',
            'Remodelación de Cocinas': 'キッチンリフォーム',
            'Transforma tu cocina en un espacio moderno y funcional.': 'キッチンをモダンで機能的な空間に改装',
            'Remodelación de Baños': 'バスルームリフォーム',
            'Crea un ambiente relajante y elegante con nuestros diseños personalizados.': 'カスタムデザインで快適で上質な空間を創造',
            'Diseño de Interiores': 'インテリアデザイン',
            'Optimiza tus espacios con soluciones creativas y modernas.': '創造的でモダンなソリューションで空間を最適化',
            'Pisos': 'フローリング',
            'Elige entre una amplia gama de materiales de alta calidad.': '高品質な素材を幅広く取り揃え',
            'Nosotros': '会社概要',
            'descripcion-empresa': 'Polyline SACは2002年3月に設立された建設会社です。21年の経験を活かし、以下のようなプロジェクトを手がけてきました：',
            'Habilitaciones Urbanas': '都市開発',
            'Demolición': '建物解体（最大3,500㎡）',
            'Edificaciones': '戸建てとマンションの建設'
        },
        'it': {
            'Inicio': 'Home',
            'Para Tí': 'Per Te', 
            'Proyectos': 'Progetti',
            'Proyectos en Venta': 'Progetti in Vendita',
            'Contacto': 'Contatti',
            'Información': 'Informazioni', 
            'Agenda Una Reunión': 'Prenota un Appuntamento',
            'Cotizar Proyecto': 'Richiedi un Preventivo',
            'BIENVENIDO A POLYLINE': 'BENVENUTO A POLYLINE',
            'Proyectos inmobiliarios creados para ti.': 'Progetti immobiliari creati per te.',
            'Login': 'Accedi',
            'Perfil': 'Profilo',
            'Cerrar Sesión': 'Disconnetti',
            'Servicios Personalizados para Ti': 'Servizi Personalizzati per Te',
            'En POLYLINE transformamos tus sueños en realidad.': 'In POLYLINE trasformiamo i tuoi sogni in realtà',
            'Remodelación Completa': 'Ristrutturazione Completa', 
            'Rediseña completamente tus espacios para ajustarlos a tus necesidades y estilo de vida.': 'Riprogetta completamente i tuoi spazi secondo le tue esigenze e il tuo stile di vita',
            'Remodelación de Cocinas': 'Ristrutturazione Cucine',
            'Transforma tu cocina en un espacio moderno y funcional.': 'Trasforma la tua cucina in uno spazio moderno e funzionale',
            'Remodelación de Baños': 'Ristrutturazione Bagni',
            'Crea un ambiente relajante y elegante con nuestros diseños personalizados.': 'Crea un ambiente rilassante ed elegante con i nostri design personalizzati',
            'Diseño de Interiores': 'Design d\'Interni',
            'Optimiza tus espacios con soluciones creativas y modernas.': 'Ottimizza i tuoi spazi con soluzioni creative e moderne',
            'Pisos': 'Pavimenti',
            'Elige entre una amplia gama de materiales de alta calidad.': 'Scegli tra un\'ampia gamma di materiali di alta qualità',
            'Nosotros': 'Chi Siamo',
            'descripcion-empresa': 'Polyline SAC è un\'azienda di costruzioni che ha iniziato la sua attività nel marzo 2002. Con 21 anni di esperienza, ha sviluppato progetti e costruzioni come:',
            'Habilitaciones Urbanas': 'Sviluppi Urbani',
            'Demolición': 'Demolizione di edifici fino a 3.500m²',
            'Edificaciones': 'Edifici unifamiliari e multifamiliari'
        }
    };

    function translatePage(lang) {
        if (lang === 'es') {
            location.reload();
            return;
        }

        // Usar un fragmento de documento para optimizar las manipulaciones del DOM
        const fragment = document.createDocumentFragment();
        const elements = document.querySelectorAll('[data-translate]');
        
        // Procesar elementos en lotes para evitar bloqueo del navegador
        const batchSize = 10;
        let currentBatch = 0;

        function processBatch() {
            const start = currentBatch * batchSize;
            const end = Math.min(start + batchSize, elements.length);
            
            for (let i = start; i < end; i++) {
                const element = elements[i];
                const key = element.getAttribute('data-translate');
                
                if (translations[lang]?.[key]) {
                    if (element.tagName.toLowerCase() === 'input' || 
                        element.tagName.toLowerCase() === 'textarea') {
                        element.placeholder = translations[lang][key];
                    } else {
                        const isTextOnly = element.innerHTML.trim() === element.textContent.trim();
                        element[isTextOnly ? 'textContent' : 'innerHTML'] = translations[lang][key];
                    }
                }
            }

            currentBatch++;
            
            if (currentBatch * batchSize < elements.length) {
                requestAnimationFrame(processBatch);
            } else {
                // Actualizar título después de procesar todas las traducciones
                document.title = {
                    'en': 'POLYLINE - Construction Company',
                    'pt': 'POLYLINE - Construtora',
                    'zh': 'POLYLINE - 建筑公司',
                    'ja': 'POLYLINE - 建設会社',
                    'it': 'POLYLINE - Società di costruzioni'
                }[lang] || 'POLYLINE - Constructora';

                // Reinicializar animaciones solo si es necesario
                if (typeof anime !== 'undefined' && typeof wrapLetters === 'function') {
                    requestAnimationFrame(() => {
                        const mainText = document.querySelector('.letters-main');
                        const subText = document.querySelector('.letters-sub');
                        
                        if (mainText) mainText.style.opacity = '1';
                        if (subText) subText.style.opacity = '1';
                        
                        wrapLetters('.letters-main');
                        wrapLetters('.letters-sub');
                        
                        // Usar requestAnimationFrame para las animaciones
                        requestAnimationFrame(() => {
                            anime.timeline({
                                loop: false,
                                easing: 'easeOutExpo'
                            })
                            .add({
                                targets: '.hero-title .letter',
                                translateY: ["1.1em", 0],
                                translateX: ["0.55em", 0],
                                rotateZ: [180, 0],
                                duration: 600,
                                delay: anime.stagger(40)
                            })
                            .add({
                                targets: '.hero-subtitle .letter',
                                opacity: [0, 1],
                                duration: 800,
                                delay: anime.stagger(20),
                                offset: '-=400'
                            });
                        });
                    });
                }
            }
        }

        // Iniciar el procesamiento por lotes
        requestAnimationFrame(processBatch);
    }

    // Cerrar el menú de idiomas cuando se hace clic fuera
    document.addEventListener('click', function(event) {
        const languageSelector = document.querySelector('.language-selector');
        const languageOptions = document.getElementById('languageOptions');
        
        if (!languageSelector.contains(event.target)) {
            languageOptions.classList.remove('show');
        }
    });
</script>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script type="module" src="/js/property-viewer.js"></script>
